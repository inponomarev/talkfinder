<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title></title>

  <meta name="description" content="JUG Talks Finder">
  <meta name="author" content="Ivan Ponomarev">
  <link rel="stylesheet" href="/css/foundation.css">
  <link rel="stylesheet" href="/css/font-awesome.css">
  <link rel="stylesheet" href="/css/coderay.css">
  <link rel="stylesheet" href="/css/asciidoctor.css">
  <link rel="stylesheet" href="/css/custom.css">
  <!-- Yandex.Metrika counter -->
  <script type="text/javascript">
    (function (m, e, t, r, i, k, a) {
      m[i] = m[i] || function () { (m[i].a = m[i].a || []).push(arguments) };
      m[i].l = 1 * new Date(); k = e.createElement(t), a = e.getElementsByTagName(t)[0], k.async = 1, k.src = r, a.parentNode.insertBefore(k, a)
    })
      (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

    ym(64729483, "init", {
      clickmap: true,
      trackLinks: true,
      accurateTrackBounce: true
    });
  </script>
  <noscript>
    <div><img src="https://mc.yandex.ru/watch/64729483" style="position:absolute; left:-9999px;" alt="" /></div>
  </noscript>
  <!-- /Yandex.Metrika counter -->
  <script src="/js/vendor/modernizr.js"></script>
  <script src="/js/toc.js"></script>
  <script src="/js/simple-jekyll-search.min.js"></script>
</head>
<body>
  <nav class="top-bar">
    <ul class="title-area">
      <li class="name">
        <h1>
          <a href="/en/events.html">Events</a>
          <a href="/en/speakers.html">Speakers</a>
          <a href="/en/search.html">Search</a>
          <a href="/en/about.html">About</a>
          <a class="lang" href="/ru/talk/2968.html">RU</a>
        </h1>
      </li>
    </ul>
  </nav>
  <div class="main-content">
    <div class="paragraph">
<p><span class="image"><a class="image" href="../evttype/9.html"><img src="/images/events/mobius.jpg" alt="mobius" width="80"></a></span> <a href="../event/81.html">Mobius 2021 SPb (13.04.2021&#8201;&#8212;&#8201;16.04.2021)
</a></p>
</div>
<div class="sect3">
<h4 id="how_to_rewrite_the_network_layer_so_that_you_dont_have_to_rewrite_it">How to rewrite the network layer so that you don&#39;t have to rewrite it</h4>
<div class="paragraph event-speakers">
<p><span class="image"><a class="image" href="../speaker/1572.html"><img src="/images/speakers/1572.jpg" alt="img" width="100" height="100"></a></span></p>
</div>
<div class="paragraph">
<p><em><a href="../speaker/1572.html">Aleksandr Anosov</a></em></p>
</div>
<div class="paragraph">
<p>The story of how the network layer was rewritten in the Delivery Club iOS application.</p>
</div>
<div class="paragraph">
<p>The story of how the network layer was rewritten in the Delivery Club iOS application.</p>
</div>
<div class="paragraph">
<p>The story is completely banal and painfully familiar to everyone: old, dusty legacy, bugs with logout, code more complicated than Da Vinci&#8217;s.</p>
</div>
<div class="paragraph">
<p>The solution is elegant â€” a new network layer, an adapter for the old protocol, a facade for selection based on the Toggl feature, a gradual deployment through Firebase, monitoring of non-fatal errors.</p>
</div>
<div class="paragraph">
<p>As a result, without a single change at the service level, all requests go to the network in a new way.</p>
</div>
<div class="paragraph">
<p>The fact that the author of the new network layer left the team even before it was deployed to users gives a highlight to this story. It would seem that the new network layer, not having time to prove itself, will immediately turn into legacy? But no, it turned out to be well designed and implemented.</p>
</div>
<div class="paragraph">
<p>The cherry on top will be diagrams describing all the entities and their responsibilities.</p>
</div>
</div>
  </div>
</body>
</html>