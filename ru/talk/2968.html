<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title></title>

  <meta name="description" content="JUG Talks Finder">
  <meta name="author" content="Ivan Ponomarev">
  <link rel="stylesheet" href="/css/foundation.css">
  <link rel="stylesheet" href="/css/font-awesome.css">
  <link rel="stylesheet" href="/css/coderay.css">
  <link rel="stylesheet" href="/css/asciidoctor.css">
  <link rel="stylesheet" href="/css/custom.css">
  <!-- Yandex.Metrika counter -->
  <script type="text/javascript">
    (function (m, e, t, r, i, k, a) {
      m[i] = m[i] || function () { (m[i].a = m[i].a || []).push(arguments) };
      m[i].l = 1 * new Date(); k = e.createElement(t), a = e.getElementsByTagName(t)[0], k.async = 1, k.src = r, a.parentNode.insertBefore(k, a)
    })
      (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

    ym(64729483, "init", {
      clickmap: true,
      trackLinks: true,
      accurateTrackBounce: true
    });
  </script>
  <noscript>
    <div><img src="https://mc.yandex.ru/watch/64729483" style="position:absolute; left:-9999px;" alt="" /></div>
  </noscript>
  <!-- /Yandex.Metrika counter -->
  <script src="/js/vendor/modernizr.js"></script>
  <script src="/js/toc.js"></script>
  <script src="/js/simple-jekyll-search.min.js"></script>
</head>
<body>
  <nav class="top-bar">
    <ul class="title-area">
      <li class="name">
        <h1>
          <a href="/ru/events.html">События</a>
          <a href="/ru/speakers.html">Спикеры</a>
          <a href="/ru/search.html">Поиск</a>
          <a href="/ru/about.html">О проекте</a>
          <a class="lang" href="/en/talk/2968.html">EN</a>
        </h1>
      </li>
    </ul>
  </nav>
  <div class="main-content">
    <div class="paragraph">
<p><span class="image"><a class="image" href="../evttype/9.html"><img src="/images/events/mobius.jpg" alt="mobius" width="80"></a></span> <a href="../event/81.html">Mobius 2021 СПб (13.04.2021&#8201;&#8212;&#8201;16.04.2021)
</a></p>
</div>
<div class="sect3">
<h4 id="как_переписать_сетевой_слой_так_чтобы_не_пришлось_переписывать_его_снова">Как переписать сетевой слой так, чтобы не пришлось переписывать его снова</h4>
<div class="paragraph event-speakers">
<p><span class="image"><a class="image" href="../speaker/1572.html"><img src="/images/speakers/1572.jpg" alt="img" width="100" height="100"></a></span></p>
</div>
<div class="paragraph">
<p><em><a href="../speaker/1572.html">Александр Аносов</a></em></p>
</div>
<div class="paragraph">
<p>История о том, как в iOS-приложении Delivery Club переписали сетевой слой.</p>
</div>
<div class="paragraph">
<p>История о том, как в iOS-приложении Delivery Club переписали сетевой слой.</p>
</div>
<div class="paragraph">
<p>Предпосылки совершенно банальные и до боли знакомы каждому: старое, покрытое пылью легаси, баги с разлогинами, код, запутанный похлеще, чем у Да Винчи.</p>
</div>
<div class="paragraph">
<p>Решение элегантное — новый сетевой слой, адаптер для старого протокола, фасад для выбора на основе фиче Toggl, постепенная раскатка через Firebase, мониторинг нефатальных ошибок.</p>
</div>
<div class="paragraph">
<p>В итоге, без единого изменения на уровне сервисов, все запросы ходят в сеть по-новому.</p>
</div>
<div class="paragraph">
<p>Изюминку этому рассказу придает тот факт, что автор нового сетевого слоя ушел из команды еще до того, как его раскатали на пользователей. Казалось бы, новый сетевой слой, не успев проявить себя, сразу превратится в легаси? Но нет, он действительно оказался качественно продуман, спроектирован и реализован.</p>
</div>
<div class="paragraph">
<p>Вишенкой на торте будут диаграммы с описанием всех сущностей и их ответственностей.</p>
</div>
</div>
  </div>
</body>
</html>